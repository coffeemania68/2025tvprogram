<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="T-4SejcycK7UBtOex5du3S_HCtZachy4VTR2eK9UXyk" />
    <title>K-트로트 방송 허브</title>
     <!-- 홈화면 아이콘 설정 -->
    <link rel="alternate" type="application/rss+xml" title="RSS Feed for trot.drivemoments.kr" href="/feed.xml">
    <link rel="apple-touch-icon" href="https://blog.kakaocdn.net/dn/zBKrY/btsLG7rQdsy/JBHEyfJJFTz2luLDoqxQa1/img.png">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="K-트로트 허브">

    <!-- Android용 설정 -->
    <link rel="shortcut icon" href="https://blog.kakaocdn.net/dn/zBKrY/btsLG7rQdsy/JBHEyfJJFTz2luLDoqxQa1/img.png">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">  
    <script src="https://cdn.tailwindcss.com"></script>
    <!--인피드 광고 코드1-->
    
<script>
var chInfeed = 0;
var chInfeedAdSenseShow = 0; // 0 = 인피드광고 적용, 1 = 인피드광고 비적용
var chInfeedAdSenseInsert = 3; // 인피드광고 적용 개수
var chInfeedAdSense ='<ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-f4+x-42-cj+121"     data-ad-client="ca-pub-7488656479974609"     data-ad-slot="7085112394"></ins>';
</script>
<!--인피드 광고 끝-->

<script>
document.addEventListener('DOMContentLoaded', function() {
    const links = document.querySelectorAll('a[target="_blank"]');
    links.forEach(link => link.removeAttribute('target'));
});
</script>

<!-- 광고 클릭 제한 관리 코드 -->
<script>
const AdClickManager = {
    storageKey: 'adClickCount',
    maxClicksPerDay: 3, // 하루 최대 클릭 횟수
    
    initClickCount: function() {
        const today = new Date().toDateString();
        const stored = localStorage.getItem(this.storageKey);
        
        if (!stored || JSON.parse(stored).date !== today) {
            localStorage.setItem(this.storageKey, JSON.stringify({
                date: today,
                count: 0
            }));
        }
    },
    
    canClick: function() {
        const stored = JSON.parse(localStorage.getItem(this.storageKey));
        return stored.count < this.maxClicksPerDay;
    },
    
    incrementClick: function() {
        const stored = JSON.parse(localStorage.getItem(this.storageKey));
        stored.count += 1;
        localStorage.setItem(this.storageKey, JSON.stringify(stored));
    }
};

document.addEventListener('DOMContentLoaded', function() {
    AdClickManager.initClickCount();
    
    // 광고 요소들에 클릭 이벤트 리스너 추가
    document.querySelectorAll('.adsbygoogle').forEach(ad => {
        ad.addEventListener('click', function(e) {
            if (!AdClickManager.canClick()) {
                e.preventDefault();
                alert('오늘의 광고 클릭 한도를 초과했습니다. 내일 다시 시도해주세요.');
                return false;
            }
            AdClickManager.incrementClick();
        });
    });
});

// 매일 자정에 클릭 카운트 초기화
setInterval(() => {
    const now = new Date();
    if (now.getHours() === 0 && now.getMinutes() === 0) {
        AdClickManager.initClickCount();
    }
}, 60000); // 1분마다 체크
</script>
    
</head>

<body class="bg-gray-50">
    <!-- Google AdSense 스크립트 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7488656479974609" crossorigin="anonymous"></script>

    <!-- 상단 광고 컨테이너 -->
    <div id="ad-container" class="fixed w-full top-0 z-50">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-7488656479974609"
             data-ad-slot="7085112394"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <header id="main-header" class="bg-white shadow-sm fixed w-full z-40">
        <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="text-xl font-bold">
                <a href="index.html">K-트로트 방송 허브</a>
            </div>
            <ul class="flex space-x-8">
                <li><a href="index.html" class="text-red-600">홈</a></li>
                <li><a href="live.html" class="hover:text-red-600">생방송</a></li>
                <li><a href="community.html" class="hover:text-red-600">커뮤니티</a></li>
            </ul>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12" id="main-content">
        <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3">   
            <!-- 한일톱텐쇼 -->
            <div class="bg-gradient-to-br from-red-500 to-red-700 rounded-xl p-8 text-white transform hover:scale-105 transition-all shadow-lg">
                <h3 class="text-2xl font-bold mb-4">한일톱텐쇼</h3>
                <p class="mb-2">매주 월요일 저녁 8시</p>
                <div class="countdown mb-6 bg-red-600/30 p-2 rounded-lg text-center" data-day="1" data-hour="20">
                    다음 방송까지: <span>00일 00시간 00분</span>
                </div>
                <div class="space-y-4">
                    <a href="live.html" 
                       class="block w-full py-3 px-4 bg-white text-red-600 rounded-lg text-center font-semibold hover:bg-red-50 transform hover:-translate-y-1 transition-all">
                        생방송 보기
                    </a>
                    <div>
                        <div class="vote-countdown text-sm text-white/90 mb-2 bg-red-600/30 p-2 rounded-lg text-center" data-day="0" data-hour="10">
                            투표마감까지: <span>00일 00시간 00분</span>
                        </div>
                        <a href="https://m.site.naver.com/1o4iW" 
                           class="block w-full py-3 px-4 bg-red-800 text-white rounded-lg text-center font-semibold hover:bg-red-900 transform hover:rotate-1 transition-all">
                            투표하기
                        </a>
                    </div>
                    <a href="#" 
                       class="block w-full py-3 px-4 bg-red-900 text-white rounded-lg text-center font-semibold hover:bg-red-950 transform hover:scale-105 transition-all">
                        국민판정단 신청
                    </a>
                </div>
            </div>

            <!-- 현역가왕2 -->
            <div class="bg-gradient-to-br from-purple-500 to-purple-700 rounded-xl p-8 text-white transform hover:scale-105 transition-all shadow-lg">
                <h3 class="text-2xl font-bold mb-4">현역가왕2</h3>
                <p class="mb-2">매주 화요일 저녁 9시</p>
                <div class="countdown mb-6 bg-purple-600/30 p-2 rounded-lg text-center" data-day="2" data-hour="21">
                    다음 방송까지: <span>00일 00시간 00분</span>
                </div>
                <div class="space-y-4">
                    <a href="live.html" 
                       class="block w-full py-3 px-4 bg-white text-purple-600 rounded-lg text-center font-semibold hover:bg-purple-50 transform hover:-translate-y-1 transition-all">
                        생방송 보기
                    </a>
                    <div>
                        <div class="vote-countdown text-sm text-white/90 mb-2 bg-purple-600/30 p-2 rounded-lg text-center" data-deadline="2024-02-18T23:59:59">
                            투표마감까지: <span>00일 00시간 00분</span>
                        </div>
                        <a href="https://drivemoments.kr/%ed%98%84%ec%97%ad%ea%b0%80%ec%99%952-%eb%82%a8%ec%9e%90%ed%8e%b8-%eb%b0%a9%ec%86%a1-%ec%9d%bc%ec%a0%95-%ec%b6%9c%ec%97%b0%ec%a7%84-%ed%88%ac%ed%91%9c-%eb%b0%a9%eb%b2%95-%ec%b4%9d%ec%a0%95%eb%a6%ac/" 
                           class="block w-full py-3 px-4 bg-purple-800 text-white rounded-lg text-center font-semibold hover:bg-purple-900 transform hover:rotate-1 transition-all">
                            투표하기
                        </a>
                    </div>
                    <a href="https://go-to.tistory.com/181" 
                       class="block w-full py-3 px-4 bg-purple-900 text-white rounded-lg text-center font-semibold hover:bg-purple-950 transform hover:scale-105 transition-all">
                        국민판정단 신청
                    </a>
                </div>
            </div>

            <!-- 미스터트롯3 -->
            <div class="bg-gradient-to-br from-indigo-500 to-indigo-700 rounded-xl p-8 text-white transform hover:scale-105 transition-all shadow-lg">
                <h3 class="text-2xl font-bold mb-4">미스터트롯3</h3>
                <p class="mb-2">매주 목요일 저녁 10시</p>
                <div class="countdown mb-6 bg-indigo-600/30 p-2 rounded-lg text-center" data-day="4" data-hour="22">
                    다음 방송까지: <span>00일 00시간 00분</span>
                </div>
                <!-- 미스터트롯3 카드의 투표 부분 -->
<div class="space-y-4">
    <a href="live.html" 
       class="block w-full py-3 px-4 bg-white text-indigo-600 rounded-lg text-center font-semibold hover:bg-indigo-50 transform hover:-translate-y-1 transition-all">
        생방송 보기
    </a>
    <!-- 투표 준비중 버튼 -->
    <a href="#" 
       class="block w-full py-3 px-4 bg-indigo-800 text-white rounded-lg text-center font-semibold hover:bg-indigo-900 transform hover:rotate-1 transition-all">
        투표 준비중
    </a>
    <a href="https://drivemoments.kr/%eb%af%b8%ec%8a%a4%ed%84%b0%ed%8a%b8%eb%a1%af3-%eb%b0%a9%ec%b2%ad%ea%b0%9d-%eb%aa%a8%ec%a7%91/" 
       class="block w-full py-3 px-4 bg-indigo-900 text-white rounded-lg text-center font-semibold hover:bg-indigo-950 transform hover:scale-105 transition-all">
        국민판정단 신청
    </a>
</div>
            </div>
        </div>

        <!-- Google AdSense 자동 광고 코드 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7488656479974609"
     crossorigin="anonymous"></script>  

        <!-- 카카오 채널 섹션 -->
        <div class="mt-12 bg-yellow-400 rounded-xl p-8 transform hover:scale-105 transition-all shadow-lg">
            <a href="http://pf.kakao.com/_xixnbtG/107843223" 
               class="block text-center text-gray-900 font-bold text-xl">
                📱 카카오톡 친구추가하고 소식 받아보기
            </a>
        </div>
    </main>
   <script>
// 광고 레이아웃 조정
function adjustLayout() {
    const adContainer = document.getElementById('ad-container');
    const header = document.getElementById('main-header');
    const mainContent = document.getElementById('main-content');
    
    // 광고가 로드된 후 높이 체크
    if (adContainer.offsetHeight > 0) {
        header.style.top = adContainer.offsetHeight + 'px';
        mainContent.style.marginTop = (adContainer.offsetHeight + 64) + 'px';
    } else {
        // 광고가 아직 로드되지 않았거나 차단된 경우
        header.style.top = '0px';
        mainContent.style.marginTop = '64px';
    }
}

// 광고 로드 완료 시 레이아웃 조정
window.addEventListener('load', function() {
    setTimeout(adjustLayout, 1000); // 광고 로드 시간 고려
});

// 화면 크기 변경 시 레이아웃 조정
window.addEventListener('resize', adjustLayout);

// 주기적으로 광고 높이 체크
setInterval(adjustLayout, 2000);
</script>

    <footer class="bg-gray-100 mt-12 py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-gray-600">
            <p>&copy; 2024 K-트로트 방송 허브</p>
        </div>
    </footer>

    <script>
        // 방송 카운트다운
        function updateBroadcastCountdowns() {
            document.querySelectorAll('.countdown[data-day][data-hour]').forEach(countdown => {
                const targetDay = parseInt(countdown.dataset.day);
                const targetHour = parseInt(countdown.dataset.hour);
                
                const now = new Date();
                const nextShow = getNextShowTime(targetDay, targetHour);
                const timeLeft = nextShow - now;
                
                updateCountdownDisplay(countdown, timeLeft);
            });
        }

        // 투표 카운트다운
        function updateVoteCountdowns() {
            // 한일톱텐쇼 - 매주 일요일 10시
            document.querySelectorAll('.vote-countdown[data-day="0"][data-hour="10"]').forEach(countdown => {
                const now = new Date();
                const nextSunday = new Date();
                nextSunday.setDate(now.getDate() + (7 - now.getDay()));
                nextSunday.setHours(10, 0, 0, 0);
                
                if (now > nextSunday) {
                    nextSunday.setDate(nextSunday.getDate() + 7);
                }
                
                const timeLeft = nextSunday - now;
                updateCountdownDisplay(countdown, timeLeft);
            });

            // JavaScript 부분에서 현역가왕2 투표 카운트다운 로직 수정
document.querySelectorAll('.vote-countdown[data-deadline]').forEach(countdown => {
    const deadline = new Date(countdown.dataset.deadline);
    const now = new Date();
    const timeLeft = deadline - now;
    
    if (timeLeft > 0) {  // 아직 시간이 남아있음
        const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
        
        countdown.querySelector('span').textContent = 
            `${days}일 ${hours}시간 ${minutes}분`;
    } else {
        countdown.querySelector('span').textContent = "2월 18일까지";
    }
});
        }

        function getNextShowTime(targetDay, targetHour) {
            const now = new Date();
            let nextShow = new Date();
            nextShow.setHours(targetHour, 0, 0, 0);
            
            let daysUntilShow = targetDay - now.getDay();
            if (daysUntilShow < 0 || (daysUntilShow === 0 && now.getHours() >= targetHour)) {
                daysUntilShow += 7;
            }
            
            nextShow.setDate(nextShow.getDate() + daysUntilShow);
            return nextShow;
        }

        function updateCountdownDisplay(element, timeLeft) {
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            
            element.querySelector('span').textContent = 
                `${days}일 ${hours}시간 ${minutes}분`;
        }

        // 1분마다 카운트다운 업데이트
        setInterval(() => {
            updateBroadcastCountdowns();
            updateVoteCountdowns();
        }, 60000);

        // 초기 실행
        updateBroadcastCountdowns();
        updateVoteCountdowns();
    </script>
</body>
</html>
